v {xschem version=3.4.5 file_version=1.2
* Copyright 2021 Stefan Frederik Schippers
* 
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*     https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.

}
G {}
K {}
V {}
S {}
E {}
B 2 820 -1040 1230 -830 {flags=graph
y1=0
y2=5
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0


hilight_wave=-1




color=7
node=ramp3}
B 2 820 -620 1230 -410 {flags=graph
y1=-4e-06
y2=2e-06
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0
color=8
node=i(v5)
hilight_wave=-1}
B 2 820 -830 1230 -620 {flags=graph
y1=-2.4e-06
y2=4.6e-06
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0
color=8
node=i(v4)
hilight_wave=-1}
B 2 410 -1040 820 -830 {flags=graph
y1=0
y2=5
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0


hilight_wave=-1



color=7
node=ramp2}
B 2 410 -620 820 -410 {flags=graph
y1=-2e-06
y2=4e-06
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0
color=8
node=i(v3)
hilight_wave=-1}
B 2 0 -1040 410 -830 {flags=graph
y1=0
y2=5
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0


hilight_wave=-1




color=7
node=ramp1}
B 2 0 -620 410 -410 {flags=graph
y1=-4e-06
y2=2e-06
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0
color=8
node=i(v2)
hilight_wave=-1}
B 2 0 -830 410 -620 {flags=graph
y1=-3.6e-06
y2=6.7e-06
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0
color=8
node=i(v1)
hilight_wave=-1}
B 2 1230 -1040 1640 -830 {flags=graph
y1=0.4
y2=0.7
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0


hilight_wave=-1




color=7
node=sig4}
B 2 1230 -830 1640 -620 {flags=graph
y1=-1.9e-08
y2=4.3e-08
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0
color=8
node=i(v7)
hilight_wave=-1}
B 2 1230 -620 1640 -410 {flags=graph
y1=-4.3e-08
y2=1.9e-08
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0
color=8
node=i(v6)
hilight_wave=-1}
B 2 1640 -1040 2050 -830 {flags=graph
y1=0
y2=5
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0


hilight_wave=-1




color=7
node=ramp5}
B 2 1640 -620 2050 -410 {flags=graph
y1=-5.1e-12
y2=4e-07
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0
color=8
node=i(v9)
hilight_wave=-1}
B 2 1640 -830 2050 -620 {flags=graph
y1=-9.6e-07
y2=5.1e-12
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0
color=8
node=i(v8)
hilight_wave=-1}
B 2 410 -830 820 -620 {flags=graph
y1=-4e-06
y2=2e-06
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=1e-05
divx=5
subdivx=4


dataset=-1
unitx=1
logx=0
logy=0
color=8
node=i(v10)
hilight_wave=-1}
T {Voltage applied to
reverse-biased junction} -250 -960 0 0 0.4 0.4 {}
T {Current at anode} -190 -740 0 0 0.4 0.4 {}
T {Current at cathode} -210 -540 0 0 0.4 0.4 {}
N 910 -250 910 -240 {
lab=ramp3}
N 910 -250 1090 -250 {
lab=ramp3}
N 1090 -320 1090 -310 {
lab=#net1}
N 520 -330 520 -250 {
lab=ramp2}
N 520 -330 690 -330 {
lab=ramp2}
N 690 -330 690 -320 {
lab=ramp2}
N 320 -240 320 -230 {
lab=ramp1}
N 310 -240 320 -240 {
lab=ramp1}
N 320 -250 320 -240 {
lab=ramp1}
N 120 -240 120 -180 {
lab=ramp1}
N 120 -240 310 -240 {
lab=ramp1}
N 1540 -320 1540 -310 {
lab=sig4}
N 1530 -320 1540 -320 {
lab=sig4}
N 1340 -320 1340 -260 {
lab=sig4}
N 1340 -320 1530 -320 {
lab=sig4}
N 1760 -260 1760 -220 {
lab=ramp5}
N 1760 -260 1780 -260 {
lab=ramp5}
N 1840 -260 1930 -260 {
lab=ramp5}
N 1780 -260 1840 -260 {
lab=ramp5}
N 690 -260 690 -190 {
lab=#net2}
C {devices/lab_pin.sym} 940 -250 1 0 {name=p4 lab=ramp3}
C {devices/lab_pin.sym} 1090 -380 0 0 {name=p1 lab=0}
C {devices/lab_pin.sym} 910 -180 0 0 {name=p2 lab=0}
C {devices/simulator_commands_shown.sym} -220 -250 0 0 {name=COMMANDS1
simulator=ngspice
only_toplevel=false 
value="
.option savecurrents
.control
save all
tran 100p 10u
remzerovec
write test_diode_custom.raw
.endc
"}
C {sky130_fd_pr/corner.sym} -220 -425 0 0 {name=CORNER only_toplevel=false corner=tt}
C {devices/launcher.sym} -150 -50 0 0 {name=h1 
descr="Load tran waves" 
tclcommand="
xschem raw_read $netlist_dir/[file tail [file rootname [xschem get current_name]]].raw tran

"
}
C {devices/vsource.sym} 910 -210 0 0 {name=V4 value="pwl 0 2.5 2u 2.5 3u 5 5u 5 6u 0 8u 0 9u 2.5"
}
C {devices/vsource.sym} 1090 -350 2 0 {name=V5 value=5
}
C {devices/vsource.sym} 520 -220 0 0 {name=V3 value="pwl 0 2.5 2u 2.5 3u 5 5u 5 6u 0 8u 0 9u 2.5"
}
C {devices/lab_pin.sym} 520 -190 0 0 {name=p7 lab=0}
C {devices/lab_pin.sym} 580 -330 1 0 {name=p3 lab=ramp2}
C {devices/lab_pin.sym} 170 -240 1 0 {name=p5 lab=ramp1}
C {devices/vsource.sym} 320 -340 2 0 {name=V2 value=5}
C {devices/vsource.sym} 120 -150 0 0 {name=V1 value="pwl 0 2.5 2u 2.5 3u 5 5u 5 6u 0 8u 0 9u 2.5"
}
C {devices/lab_pin.sym} 120 -120 0 0 {name=p6 lab=0}
C {devices/lab_pin.sym} 320 -170 0 0 {name=p9 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} 320 -370 0 0 {name=p10 lab=0}
C {devices/lab_pin.sym} 1390 -320 1 0 {name=p11 lab=sig4}
C {devices/vsource.sym} 1540 -220 0 0 {name=V7 value=0.001}
C {devices/vsource.sym} 1340 -230 0 0 {name=V6 value="sin 0.4 0.3 32768 0 0 0"
}
C {devices/lab_pin.sym} 1340 -200 0 0 {name=p12 lab=0}
C {devices/lab_pin.sym} 1540 -190 0 0 {name=p13 lab=0}
C {devices/lab_pin.sym} 690 -130 0 0 {name=p8 lab=0}
C {devices/lab_pin.sym} 1930 -380 0 0 {name=p15 lab=0}
C {devices/vsource.sym} 1760 -190 0 0 {name=V8 value="pwl 0 0 10u 5"
}
C {devices/lab_pin.sym} 1760 -160 0 0 {name=p16 lab=0}
C {devices/vsource.sym} 1930 -350 2 0 {name=V9 value=5
}
C {devices/lab_pin.sym} 1760 -260 1 0 {name=p17 lab=ramp5}
C {devices/vsource.sym} 690 -160 0 0 {name=V10 value=-0.004
}
C {devices/code_shown.sym} 2100 -1000 0 0 {name=MODELS only_toplevel=false value="
*  Model parameters from sky130_fd_pr OpenPDK
*  sky130_fd_pr__diode_pd2nw_05v5
*  PPlus to Nwell normal Pmos VT Diode Model
*  -----------------------------------------------------

.model pdiode d 
+ level = 3
*
*PARAMETERS TO MAKE MODEL INTO CADFLOW
+ tlevc = 1
+ area = 2.025e11
+ pj = 1.8e6
*
*JUNCTION CAPACITANCE PARAMETERS
+ cj = 1e-12
+ mj = 0.34629
+ pb = 0.6587
+ cjsw = 3.3e-013
+ mjsw = 0.29781
+ php = 0.7418
+ cta = 0.0012407
+ ctp = 0.00037357
+ tpb = 0.0020386
+ tphp = 0.001246
*
*DIODE IV PARAMETERS
+ js = 2.1483e-017
+ jsw = 8.04e-016
+ n = 1.3632
+ rs = 600e-12
+ ik = 4.76e4
+ ikr = 0
+ vb = 6000
+ ibv = 0.00106
+ trs = 0
+ eg = 1.05
+ xti = 5.2
+ tref = 30
*
*DEFAULT PARAMETERS
+ tcv = 0
+ gap1 = 0.000473
+ gap2 = 1110
+ ttt1 = 0
+ ttt2 = 0
+ tm1 = 0
+ tm2 = 0
+ lm = 0
+ lp = 0
+ wm = 0
+ wp = 0
+ xm = 0
+ xoi = 10000
+ xom = 10000
+ xp = 0
+ xw = 0
"}
C {devices/diode.sym} 1930 -290 2 0 {name=D6 model=pdiode area=2.025e11}
C {devices/diode.sym} 320 -280 2 0 {name=D1 model=pdiode area=2.025e11}
C {devices/diode.sym} 320 -200 2 0 {name=D2 model=pdiode area=2.025e11}
C {devices/diode.sym} 690 -290 2 0 {name=D3 model=pdiode area=2.025e11}
C {devices/diode.sym} 1090 -280 2 0 {name=D4 model=pdiode area=2.025e11}
C {devices/diode.sym} 1540 -280 2 0 {name=D5 model=pdiode area=2.025e11}
